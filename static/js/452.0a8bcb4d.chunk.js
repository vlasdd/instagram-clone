"use strict";(self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[]).push([[452],{5018:function(e,s,t){t.d(s,{Z:function(){return i}});var n=t(885),r=t(2791),a=t(6871),u=t(9110),c=t(184),l=function(e){var s=e.styles;return(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,viewBox:"0 0 20 20",fill:"currentColor",children:(0,c.jsx)("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})},o=t(6302),i=r.memo((function(e){var s=e.postImage,t=e.postId,i=e.likes,f=e.comments,d=(0,r.useState)(!1),h=(0,n.Z)(d,2),m=h[0],x=h[1],g=(0,a.s0)(),v=(0,r.useCallback)((function(){x(!0)}),[]),p=(0,r.useCallback)((function(){x(!1)}),[]),w=(0,r.useCallback)((function(){g(u.Z.POST+t)}),[t]);return(0,c.jsxs)("div",{className:"relative z-10 w-full h-full aspect-square cursor-pointer rounded-sm",onMouseEnter:v,onMouseLeave:p,onClick:w,children:[(0,c.jsx)("img",{src:s,className:"w-full h-full object-cover rounded-sm ".concat(m&&"brightness-75")}),m?(0,c.jsxs)("div",{className:"absolute top-[50%] left-[50%] translate-y-[-50%] translate-x-[-50%] flex gap-4",children:[(0,c.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,c.jsx)(o.Z,{styles:"h-6 w-6 text-white"}),(0,c.jsx)("p",{className:"text-lg font-medium text-white",children:i.length})]}),(0,c.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,c.jsx)(l,{styles:"h-6 w-6 text-white"}),(0,c.jsx)("p",{className:"text-lg font-medium text-white",children:f.length})]})]}):null]})}))},9431:function(e,s){s.Z=function(e,s){return Math.floor(Math.random()*(s-e))+e}},6452:function(e,s,t){t.r(s),t.d(s,{default:function(){return Z}});var n=t(1413),r=t(2982),a=t(6033),u=t(5018),c=t(83),l=t(9329),o=t(8213),i=t(2791),f=t(6871),d=t(1743),h=t(5861),m=t(885),x=t(7757),g=t.n(x),v=t(6724),p=t(9431),w=function(){var e=(0,d.C)((function(e){return e.signedUser.user})),s=(0,i.useState)([]),t=(0,m.Z)(s,2),n=t[0],a=t[1];return(0,i.useEffect)((function(){var s=function(){var s=(0,h.Z)(g().mark((function s(){var t,n,u,c,o,i;return g().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=(0,v.hJ)(l.db,"users"),n=(0,v.IO)(t,(0,v.ar)("username",">=","")),s.next=4,(0,v.PL)(n);case 4:u=s.sent,c=[],o=0,i=function(){var s=(0,p.Z)(0,u.docs.length),t=u.docs[s].data(),n=c.some((function(e){return e.userId===t.userId})),a=t.userId===e.userId,l=0!==t.posts.length;if(n||a||!l||(c=[].concat((0,r.Z)(c),[t])),o>3e3)return"break";o++};case 8:if(30===c.length){s.next=14;break}if("break"!==i()){s.next=12;break}return s.abrupt("break",14);case 12:s.next=8;break;case 14:c.forEach((function(e){var s=(0,p.Z)(0,e.posts.length);a((function(t){return[].concat((0,r.Z)(t),[e.posts[s]])}))}));case 15:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}();e.userId.length&&s()}),[e.userId]),{postsSuggestions:n,setPostsSuggestions:a}},j=t(184),Z=function(){var e=(0,d.C)((function(e){return e.signedUser.user})),s=w(),t=s.postsSuggestions,h=s.setPostsSuggestions,m=(0,i.useMemo)((function(){return(0,r.Z)(t).reverse().map((function(e){return(0,i.createElement)(u.Z,(0,n.Z)((0,n.Z)({},e),{},{key:e.postId}))}))}),[t]);return l.I8.currentUser?e.userId.length?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"back flex flex-col items-center min-h-[100vh]",children:[(0,j.jsx)(a.Z,{}),(0,j.jsx)("div",{className:"w-full grid grid-cols-3 auto-rows-fr gap-1 sm:gap-6 sm:w-3/4 lg:w-2/3 mt-2 max-w-[1000px]",children:m})]}),(0,j.jsx)(f.j3,{context:{posts:t,changePosts:h}})]}):(0,j.jsx)(o.Z,{}):(0,j.jsx)(f.Fg,{to:c.Z.LOGIN})}},6302:function(e,s,t){t(2791);var n=t(184);s.Z=function(e){var s=e.styles;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})}}}]);
//# sourceMappingURL=452.0a8bcb4d.chunk.js.map