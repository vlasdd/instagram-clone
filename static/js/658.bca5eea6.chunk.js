"use strict";(self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[]).push([[658],{4219:function(e,t,n){var s=n(2791),r=n(184),l=s.memo((function(e){var t=e.areYouSureEvent,n=e.profileImage,s=e.closeEvent,l=e.buttonText,a=e.questionText,c=e.additionalText;return(0,r.jsxs)("div",{className:"h-full w-full flex flex-col items-center z-50",children:[(0,r.jsx)("div",{className:"w-full h-[100px] flex items-start justify-center ".concat(c?"mt-3 mb-2":"mt-6 mb-4"),children:(0,r.jsx)("img",{src:n.length?n:"/instagram-clone/images/default-avatar-image.jpg",className:"rounded-full h-[100px] w-[100px] object-cover"})}),(0,r.jsxs)("p",{className:"text-sm ".concat(!c&&"mb-6"),children:[a,"?"]}),c?(0,r.jsx)("p",{className:"text-gray-400 text-sm w-3/4 text-center mb-3 mt-1",children:c}):null,(0,r.jsx)("button",{className:"w-full h-12 border-t-2 flex items-center justify-center text-rose-600 font-bold text-sm",onClick:t,children:l}),(0,r.jsx)("button",{className:"w-full h-12 border-t-2 flex items-center justify-center text-sm",onClick:s,children:"Cancel"})]})}));t.Z=l},1658:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var s=n(1413),r=n(6033),l=n(8213),a=n(2791),c=n(885),u=n(6871),i=n(83),o=n(1743),m=n(1273),f=n(4219),x=n(349),d=n(4285),h=n(184),p=a.memo((function(e){var t=e.profileImage,n=e.username,s=e.fullName,r=e.userId,l=(0,o.C)((function(e){return e.signedUser.user})),p=(0,o.T)(),g=(0,u.s0)(),b=(0,u.UO)().uid,j=(0,a.useState)(!1),w=(0,c.Z)(j,2),v=w[0],N=w[1],k=(0,a.useCallback)((function(e){e.stopPropagation(),N(!0)}),[]),y=(0,a.useCallback)((function(e){e.stopPropagation(),p((0,x.Z)({userId:r,uid:b}))}),[r,b]),I=(0,a.useCallback)((function(){N(!1),p((0,d.Z)({userId:r,uid:b}))}),[r,b]),C=(0,a.useCallback)((function(){g(i.Z.DASHBOARD+r)}),[r]),Z=(0,a.useCallback)((function(){N(!1)}),[]);return(0,h.jsxs)("div",{className:"flex w-full h-13 mb-1 px-2 justify-between items-center my-[4px]",children:[(0,h.jsxs)("button",{className:"w-full h-full py-[0.5px] gap-2 flex items-center",onClick:C,children:[(0,h.jsx)("img",{src:t.length?t:"/instagram-clone/images/default-avatar-image.jpg",className:"h-12 w-12 rounded-full object-cover"}),(0,h.jsxs)("div",{className:"flex flex-col items-start",children:[(0,h.jsx)("p",{className:"font-medium text-sm tracking-wide whitespace-nowrap",children:n}),(0,h.jsx)("p",{className:"text-gray-400 text-sm whitespace-nowrap",children:s}),(0,h.jsx)("p",{className:"text-gray-400 text-xs",children:"Popular"})]})]}),r!==l.userId&&l.userId.length?l.following.some((function(e){return e.userId===r}))?(0,h.jsx)("button",{className:"h-7 w-28 rounded border text-sm font-medium cursor-pointer",onClick:k,children:"Following"}):(0,h.jsx)("button",{className:"h-7 w-20 bg-blue-500 font-medium text-white rounded cursor-pointer text-sm tracking-wide",onClick:y,children:"Follow"}):null,v?(0,h.jsx)(m.Z,{closeEvent:Z,styles:"h-72 top-[26.5%]",children:(0,h.jsx)(f.Z,{areYouSureEvent:I,profileImage:t,closeEvent:Z,questionText:"Unfollow ".concat(n),buttonText:"Unfollow"})}):null]})})),g=n(5861),b=n(7757),j=n.n(b),w=n(9329),v=n(6724),N=function(){var e=(0,o.C)((function(e){return e.signedUser.user})),t=(0,a.useState)([]),n=(0,c.Z)(t,2),s=n[0],r=n[1];return(0,a.useEffect)((function(){var t=function(){var t=(0,g.Z)(j().mark((function t(){var n,s,l,a;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,v.hJ)(w.db,"users"),s=(0,v.IO)(n,(0,v.ar)("username",">=","")),t.next=4,(0,v.PL)(s);case 4:l=t.sent.docs.map((function(e){return e.data()})),a=l.filter((function(t){return t.userId!==e.userId&&e.following.every((function(e){return e.userId!==t.userId}))})).sort((function(e,t){return.5-Math.random()})).slice(0,30),r(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),s},k=a.memo((function(){var e=N(),t=(0,a.useMemo)((function(){return e.map((function(e){return(0,a.createElement)(p,(0,s.Z)((0,s.Z)({},e),{},{key:e.userId}))}))}),[e]);return 0===t.length?(0,h.jsx)(l.Z,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"back flex flex-col items-center",children:[(0,h.jsx)(r.Z,{}),(0,h.jsxs)("div",{className:"min-h-[calc(100vh-60px)] w-full max-w-[550px] bg-blue-700 flex flex-col items-center back sm:pt-16 pb-16",children:[(0,h.jsx)("div",{className:"w-full flex justify-start font-medium h-8 flex items-center bg-white sm:bg-inherit px-4",children:"Suggested"}),(0,h.jsx)("div",{className:"w-full flex flex-col bg-white py-2 px-1",children:t})]})]}),(0,h.jsx)("div",{className:"flex w-full fixed bottom-3 justify-center back text-xs text-gray-300 font-medium back",children:"\xa9 2022 INSTAGRAM FROM META"})]})}))}}]);
//# sourceMappingURL=658.bca5eea6.chunk.js.map